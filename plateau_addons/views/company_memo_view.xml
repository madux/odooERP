<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <record model="ir.ui.view" id="memo_model_form_view_plateau_addons">
            <field name="name">memo view inherited for plateau state addons</field>
            <field name="model">memo.model</field>
            <field name="inherit_id" ref="company_memo.memo_model_form_view_3"/>
            <field name="arch" type="xml">
                <xpath expr="//field[@name='currency_id']" position="before">
                <field name="partner_id" string="Partner" invisible="0" readonly="1" required="0"
                    options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}" force_save="1"/> 
                    <field name="branch_id" string="MDA" invisible="0" readonly="1" required="1"
                    options="{&quot;no_open&quot;: True, &quot;no_create&quot;: True}"/> 
                    
                    <field name="external_memo_request" invisible="1"/> 
                </xpath> 
                <xpath expr="//field[@name='invoice_ids']" position="attributes">
                    <attribute name="context">{'default_move_type': 'in_invoice', 'default_memo_id': active_id,'default_partner_id': partner_id, 'default_external_memo_request': True, 'form_view_ref': 'account.view_move_form'}</attribute>
                </xpath>
                <xpath expr="//field[@name='journal_id']" position="attributes">
                    <attribute name="options">{&quot;no_open&quot;: True, &quot;no_create&quot;: True}</attribute>
                </xpath>


                
            </field>
        </record>

        <record model="ir.actions.act_window" id="internal_memo_model_mda_action">
            <field name="name">Payment Request</field>
            <field name="res_model">memo.model</field>
            <field name="type">ir.actions.act_window</field>
           <field name="domain">[('external_memo_request','=',True)]</field>
            <field name="context">{'default_external_memo_request': True}</field>
             <field name="view_mode">tree,form</field>
        </record>

        <menuitem id="internal_memo_mda_main_menu_model" name="Finance Payments"
            parent="company_memo.internal_memo_menu_model_main2" sequence="6"/>
            <menuitem id="internal_memo_menu_mda_request" sequence= "1" name="Payment Requests"
            parent="internal_memo_mda_main_menu_model" action="internal_memo_model_mda_action"/>
    </data>
</odoo>